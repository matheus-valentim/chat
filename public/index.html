<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>Webshit</title>
</head>
<body>
    <section class="container">
        <header>
            <div class="webshit">
                <p>webshit</p>
                <svg width="43" height="34" viewBox="0 0 43 34" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M12.7902 4.30762C12.4825 4.30762 12.0723 4.48207 11.6328 4.77282C10.7976 5.32524 9.11274 7.06974 8.45343 8.81424C7.95528 10.1226 7.94063 11.3147 8.14575 12.2015C7.32527 12.3469 6.72457 12.6085 6.49015 12.7103C5.74293 13.0301 4.16059 14.4257 4.01407 16.5918C3.97012 17.3478 4.07268 18.1182 4.3071 18.8451C3.34011 19.1213 2.78336 19.4702 2.73941 19.4848C2.27056 19.6592 1.49404 20.1971 1.27427 20.4879C0.761476 21.0694 0.424495 21.7526 0.234028 22.4795C-0.190861 24.0641 -0.044347 25.8667 0.732174 27.3205C1.15706 28.1346 1.74312 29.0214 2.38777 29.6465C4.49757 31.798 8.1311 32.6121 11.0028 33.0773C14.5044 33.6588 18.1673 33.4553 21.4345 32.1179C26.3427 30.0971 27.6467 26.8407 27.8518 25.954C28.2767 23.9332 27.7492 22.0288 27.5295 21.5636C27.2071 20.8949 26.6797 20.2116 25.8153 19.7755C25.2292 19.4121 24.7164 19.2231 24.3355 19.1359C24.7164 17.7548 24.1743 16.6645 23.4271 15.8504C22.2989 14.6583 21.1415 14.4839 21.1415 14.4839C21.5224 13.757 21.6689 12.8847 21.4638 12.0416C21.2294 11.0094 20.658 10.3552 19.9108 9.91909C19.1489 9.46843 18.2112 9.25037 17.2442 9.07592C16.7754 8.98869 14.8268 8.71248 14.0209 7.60763C13.3616 6.7063 13.347 5.0781 13.1712 4.59837C13.0979 4.40938 12.9953 4.30762 12.7902 4.30762ZM19.5884 15.3707C19.691 15.3707 19.7789 15.3852 19.8668 15.3852C21.962 15.6178 23.4564 17.624 23.2073 19.8482C22.9582 22.0724 21.0536 23.7006 18.9584 23.468C16.8633 23.2064 15.3689 21.2438 15.6179 19.005C15.8524 16.8971 17.5959 15.298 19.5884 15.3707ZM8.77575 15.3707C10.7244 15.4288 12.3507 17.0715 12.4972 19.1504C12.673 21.3892 11.1053 23.3227 9.01018 23.4826H8.99553C6.90039 23.6425 5.05432 21.9561 4.8785 19.7174C4.71734 17.4786 6.28503 15.5451 8.38017 15.3852C8.51203 15.3707 8.64389 15.3707 8.77575 15.3707ZM8.80506 17.842C8.74645 17.842 8.7025 17.842 8.64389 17.8566C7.82342 17.9583 7.23736 18.6997 7.33992 19.4993C7.36337 19.6909 7.42501 19.8759 7.52127 20.0436C7.61753 20.2113 7.74647 20.3583 7.90057 20.476C8.05468 20.5937 8.23086 20.6798 8.41885 20.7293C8.60684 20.7787 8.80288 20.7906 8.99553 20.7641C9.816 20.6623 10.4021 19.9209 10.3141 19.1213C10.2671 18.7605 10.0867 18.4298 9.80782 18.1934C9.529 17.957 9.17165 17.8318 8.80506 17.842ZM19.5005 17.8711C18.7387 17.9002 18.1233 18.4817 18.0647 19.2522C18.0528 19.4443 18.0795 19.6369 18.1433 19.8187C18.207 20.0005 18.3065 20.168 18.436 20.3113C18.5655 20.4547 18.7224 20.5711 18.8976 20.6538C19.0728 20.7365 19.2628 20.7839 19.4566 20.7931C19.6536 20.8134 19.8528 20.794 20.0421 20.7363C20.2315 20.6786 20.4072 20.5836 20.5589 20.4571C20.7105 20.3307 20.8349 20.1752 20.9248 20C21.0146 19.8248 21.068 19.6334 21.0817 19.4373C21.0955 19.2413 21.0694 19.0444 21.0049 18.8586C20.9404 18.6727 20.8389 18.5016 20.7064 18.3555C20.5739 18.2093 20.4131 18.0911 20.2337 18.0079C20.0542 17.9247 19.8597 17.8782 19.6617 17.8711H19.5005ZM8.90762 24.8782C9.33251 24.8636 9.71344 24.9945 10.0651 25.0672C11.7939 25.387 13.2884 25.4306 14.0063 25.4306C14.7242 25.4306 16.204 25.387 17.9182 25.0672C18.5189 24.9509 19.2075 24.7037 19.7496 25.0672C20.4529 25.5324 19.9401 27.2042 18.8559 28.3381C18.2277 28.9824 17.4736 29.4927 16.6397 29.8376C15.8058 30.1826 14.9097 30.355 14.0063 30.3443C11.3983 30.3443 9.816 29.0214 9.15669 28.3381C8.07249 27.2042 7.55969 25.5324 8.24831 25.0672C8.45343 24.9363 8.67319 24.8782 8.90762 24.8782Z" fill="white"/>
                    <path d="M27.9521 12.1227C28.0665 12.2387 28.1542 12.3787 28.2089 12.5327C28.2635 12.6868 28.2839 12.8512 28.2684 13.0141C28.191 13.7681 28.0441 14.5132 27.8297 15.2397C29.3675 14.8802 30.3067 14.464 30.7333 14.2459C30.9753 14.1222 31.2539 14.0929 31.516 14.1636C32.2671 14.3658 33.0413 14.4675 33.8187 14.4663C38.2237 14.4663 41.5352 11.3427 41.5352 7.78953C41.5352 4.23751 38.2237 1.11279 33.8187 1.11279C29.4138 1.11279 26.1023 4.23751 26.1023 7.78953C26.1023 9.42311 26.7825 10.9387 27.9521 12.1227ZM27.4086 16.4682C27.1474 16.5204 26.8854 16.5683 26.6226 16.6117C26.4022 16.6473 26.2346 16.4159 26.3217 16.2089C26.4196 15.9759 26.5093 15.7395 26.5907 15.5001L26.594 15.4889C26.8674 14.6877 27.09 13.7663 27.1716 12.9084C25.819 11.5396 25 9.74804 25 7.78953C25 3.48748 28.9486 0 33.8187 0C38.6889 0 42.6375 3.48748 42.6375 7.78953C42.6375 12.0916 38.6889 15.5791 33.8187 15.5791C32.9453 15.5803 32.0755 15.4658 31.2315 15.2385C30.6583 15.5312 29.4248 16.0642 27.4086 16.4682Z" fill="white"/>
                </svg>
            </div>
        </header>
        <main>
            <ul id="lista">
            </ul>
        </main>
        <aside>
            <form action="" id="campo">
                 <div>
                    <input type="text" id="mensagem">
                </div>
                <div>
                    <button>
                        <svg xmlns="http://www.w3.org/2000/svg" width="53" height="53" viewBox="0 0 53 53" fill="none">
                            <g filter="url(#filter0_d_124_70)">
                            <path d="M47.16 24.7499C47.6117 24.5125 47.9885 24.1542 48.2482 23.715C48.5079 23.2757 48.6402 22.7729 48.6304 22.2627C48.6207 21.7526 48.4691 21.2552 48.1928 20.8262C47.9164 20.3972 47.5262 20.0536 47.0657 19.8338L8.20236 1.32533C7.72049 1.09567 7.18218 1.01121 6.65312 1.08225C6.12406 1.15329 5.62712 1.37677 5.2229 1.72541C4.81869 2.07406 4.52468 2.5328 4.37675 3.04569C4.22882 3.55857 4.23335 4.10342 4.3898 4.61377L8.58254 18.2859C8.75791 18.8573 9.11469 19.3561 9.59886 19.7066C10.083 20.0571 10.6682 20.2404 11.2659 20.2286L23.8343 19.9876C24.5635 19.9736 25.2684 20.2499 25.794 20.7557C26.3195 21.2614 26.6226 21.9552 26.6366 22.6844C26.6506 23.4136 26.3743 24.1185 25.8685 24.644C25.3628 25.1695 24.669 25.4726 23.9397 25.4866L11.3713 25.7276C10.7737 25.7387 10.1959 25.9442 9.72552 26.3131C9.25514 26.6819 8.91774 27.194 8.76441 27.7717L5.10155 41.5944C4.96449 42.1103 4.98048 42.6548 5.1476 43.1617C5.31471 43.6686 5.62571 44.1159 6.04268 44.449C6.45964 44.7822 6.96455 44.9868 7.49582 45.038C8.0271 45.0892 8.56178 44.9846 9.03466 44.7371L47.16 24.7526L47.16 24.7499Z" fill="white"/>
                            </g>
                            <defs>
                            <filter id="filter0_d_124_70" x="0.269043" y="0.0576172" width="52.3618" height="51.9932" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
                            <feFlood flood-opacity="0" result="BackgroundImageFix"/>
                            <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
                            <feOffset dy="3"/>
                            <feGaussianBlur stdDeviation="2"/>
                            <feComposite in2="hardAlpha" operator="out"/>
                            <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.65 0"/>
                            <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_124_70"/>
                            <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_124_70" result="shape"/>
                            </filter>
                            </defs>
                        </svg>
                    </button>
                </div>
            </form>
        </aside>
    </section>
    <script src="/socket.io/socket.io.js"></script>
    <script>
        var socket = io();
        let input = document.getElementById('mensagem')
        let submit = document.getElementById('submit')
        let lista = document.getElementById('lista')
        let campo = document.getElementById('campo')

        const receber = (msg) =>{
            const div = document.createElement('div')
            const p = document.createElement('p')
            p.textContent = msg
            div.appendChild(p)
            lista.appendChild(div)
            p.classList.add('receber')
            window.scrollTo(0, document.body.scrollHeight)
        }

        const enviar = (msg) =>{
            const div = document.createElement('div')
            const p = document.createElement('p')
            p.textContent = msg
            div.appendChild(p)
            lista.appendChild(div)
            p.classList.add('enviada')
            window.scrollTo(0, document.body.scrollHeight)
        }

        campo.addEventListener('submit', (evento) => {
            evento.preventDefault()
            if(input.value){
                enviar(input.value)
                socket.emit('enviar', input.value)
                input.value = ''
            }
        })
        socket.on('enviar', (msg) => {
            receber(msg)
        })
        
    </script>
</body>
</html>